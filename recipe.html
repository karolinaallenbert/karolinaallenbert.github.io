<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Recipes</title>

  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      font-family: 'Rosiana', cursive;
      background-image: url("https://i.pinimg.com/1200x/e2/6c/18/e26c18a3a0585ad8fafac065d5baf2cc.jpg");
      background-size: cover;
    }

    .postit {
      background-color: #ffe680;
      width: 340px;
      padding: 25px 20px;
      box-shadow: 5px 5px 10px rgba(0,0,0,0.3);
    }

    h2 {
      color:#b8393d;
      text-align:center;
      margin-top:0;
    }

    .recipe {
      margin-bottom: 15px;
      border-bottom: 1px dashed #b8393d;
      padding-bottom: 8px;
    }
  </style>
</head>

<body>

<div class="postit">
  <h2>your recipes</h2>

  <!-- HÃ¤r visas dina ingredienser -->
  <p id="youHave"></p>

  <!-- HÃ¤r lÃ¤gger vi recepten -->
  <div id="recipeList"></div>

  <p><a href="whatdoyouhave.html">â¬… back</a></p>
</div>

<script>
  // 1. HÃ¤mta ingredienser sparade frÃ¥n fÃ¶rsta sidan
  const found = JSON.parse(localStorage.getItem("matchedIngredients")) || [];

  // Visa vad anvÃ¤ndaren skrev
  document.getElementById("youHave").innerText =
    "You have: " + (found.length ? found.join(", ") : "inget sparat");

  // 2. Receptdatabas
  const recipes = [
    {
      name: "Tomatpasta",
      ingredients: ["pasta","tomat","ost","lÃ¶k"],
      text: "Koka pasta. Stek lÃ¶k och tomat. Blanda med ost och pasta."
    },
    {
      name: "Omelett",
      ingredients: ["Ã¤gg","ost","tomat"],
      text: "Vispa Ã¤gg. HÃ¤ll i panna. LÃ¤gg i ost och tomat."
    },
    {
      name: "Potatissoppa",
      ingredients: ["potatis","lÃ¶k","mjÃ¶lk"],
      text: "Koka potatis och lÃ¶k. Mixa. SpÃ¤d med mjÃ¶lk."
    },
    {
      name: "Pastasallad",
      ingredients: ["pasta","gurka","tomat","ost"],
      text: "Koka pasta. Blanda med grÃ¶nsaker och ost."
    }
  ];

  // 3. Matcha recept med ingredienser
  function matches(recipe, userIngredients) {
    return recipe.ingredients.some(i =>
      userIngredients.some(u => u.includes(i))
    );
  }

  const matchingRecipes = recipes.filter(r => matches(r, found));

  const container = document.getElementById("recipeList");

  // 4. Om inga recept matchar
  if (matchingRecipes.length === 0) {
    container.innerHTML = "No recipes found ðŸ¤·â€â™€ï¸";
  } else {
    matchingRecipes.forEach(r => {
      const div = document.createElement("div");
      div.className = "recipe";
      div.innerHTML = `
        <strong>${r.name}</strong><br>
        Ingredients: ${r.ingredients.join(", ")}<br>
        ${r.text}
      `;
      container.appendChild(div);
    });
  }
</script>

</body>
</html>
